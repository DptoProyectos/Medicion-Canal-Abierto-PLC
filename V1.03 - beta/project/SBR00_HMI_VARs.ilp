(*2*)
(* Network 0 *)
(*------------------------------------------------------------------------------------------------------------------SOFTWAREVARIABLE QUE INDICA EL TIPO DE MEDICION QUE SE VA  A USAR (0 => VERTEDOR RECTANGULAR / 1 => CANAL SEMICIRCULAR-MANNING)*)
LD    TRUE
MOVE    %VW3660, TYPE_CHAN
(* Network 1 *)
(*SOFTWARECAUDAL DE SALIDA EN M3/Hh*)
LD    TRUE
MOVE    Qm3H, %VR8
(* Network 2 *)
(*SOFTWAREVALOR MÁXIMO DE CAUDAL DE SALIDA QUE GENERA EL CANAL (M3/H). TENER EN CUENTA PARA LA CONFIGURACIÓN DEL DATALOGGER*)
LD    TRUE
MOVE    QMAX, %VW16
(* Network 3 *)
(*------------------------------------------------------------------------------------------------------------------CANAL ANALÓGICO DE ENTRADACORRIENTE MINIMA DE SALIDA DEL SENSOR A CONECTAR EN EL CANAL ANALOGICO DE ENTRADA DEL PLC*)
LD    TRUE
AND(
LD    %SM0.1
MOVE    AI_IMIN, %VW3668
OR(
LDN    %SM0.1
MOVE    %VW3668, AI_IMIN
)
)
(* Network 4 *)
(*------------------------------------------------------------------------------------------------------------------CANAL ANALÓGICO DE ENTRADACORRIENTE MAXIMA DE SALIDA DEL SENSOR A CONECTAR EN EL CANAL ANALOGICO DE ENTRADA DEL PLC*)
LD    TRUE
AND(
LD    %SM0.1
MOVE    AI_IMAX, %VW3672
OR(
LDN    %SM0.1
MOVE    %VW3672, AI_IMAX
)
)
(* Network 5 *)
(*CANAL ANALÓGICO DE ENTRADAMAGNITUD MINIMA QUE REGISTRA EL SENSOR A CONECTAR EN EL CANAL ANALOGICO DE ENTRADA DEL PLC*)
LD    TRUE
AND(
LD    %SM0.1
MOVE    AI_MMIN, %VR3676
OR(
LDN    %SM0.1
MOVE    %VR3676, AI_MMIN
)
)
(* Network 6 *)
(*CANAL ANALÓGICO DE ENTRADAMAGNITUD MAXIMA QUE REGISTRA EL SENSOR A CONECTAR EN EL CANAL ANALOGICO DE ENTRADA DEL PLC*)
LD    TRUE
AND(
LD    %SM0.1
MOVE    AI_MMAX, %VR3680
OR(
LDN    %SM0.1
MOVE    %VR3680, AI_MMAX
)
)
(* Network 7 *)
(*CANAL ANALÓGICO DE ENTRADABIT DE ALARMA QUE SE ACTIVA CUANDO EL SENSOR ESTA FUERA DE RANGO POR MAS DE 5 SEGUNDOS*)
LD    %M21.0
ST   %M0.0
(* Network 8 *)
(*CANAL ANALÓGICO DE ENTRADABIT QUE SE ACTIVA PARA INDICAR QUE EL SENSOR ESTA ALARMADO POR OVERFLOW*)
LD    %M21.1
ST   %M0.1
(* Network 9 *)
(*CANAL ANALÓGICO DE ENTRADASETEADO DE INDICADOR DE ALARMA POR NIVEL UNDERFLOW*)
LD    %M21.2
ST   %M0.2
(* Network 10 *)
(*-----------------------------------------------------------------------------------------------------------------------------CANAL ANALÓGICO DE SALIDAMODO EN QUE VA A TRABAJAR EL CANAL ANALOGICO DE SALIDA {0=>MODO NORMAL | 1=MODO CALIBRACION}*)
LD    %M1.0
ST   %M21.3
(* Network 11 *)
(*CANAL ANALÓGICO DE SALIDABOTON QUE EN CADA TRANSICION (0->1) INCREMENTA EL VALOR DE AJUSTE DE CORRIENTE DEL CANAL AO_0*)
LD    %M1.1
ST   %M21.4
(* Network 12 *)
(*CANAL ANALÓGICO DE SALIDABOTON QUE EN CADA TRANSICION (0->1) DECREMENTA EL VALOR DE AJUSTE DE CORRIENTE DEL CANAL AO_0*)
LD    %M1.2
ST   %M21.5
(* Network 13 *)
(*CANAL ANALÓGICO DE SALIDABIT QUE IDICA EL MODO DE CALIBRACION {0->CERO | 1->SPAN}*)
LD    %M1.3
ST   %M21.6
(* Network 14 *)
(*CANAL ANALÓGICO DE SALIDAVALOR QUE MUESTRA EL AJUSTE QUE SE ESTA REALIZANDO MIENTRAS SE CALIBRA*)
LD    TRUE
MOVE    AO_CALIB_ADJ, %VR0
(* Network 15 *)
(*---------------------------------------------------------------------------------------------------------------------CONFIGURACIÓN DE INSTALACIÓN DEL SENSOR DE ULTRADONIDODISTANCIA MINIMA A LA QUE PUEDE ESTAR EL SENSOR DEL AGUA EN METROS*)
LD    TRUE
AND(
LD    %SM0.1
MOVE    DMIN, %VR3684
OR(
LDN    %SM0.1
MOVE    %VR3684, DMIN
)
)
(* Network 16 *)
(*CONFIGURACIÓN DE INSTALACIÓN DEL SENSOR DE ULTRADONIDODISTANCIA MÁXIMA A LA QUE PUEDE ESTAR EL SENSOR DEL AGUA EN METROS*)
LD    TRUE
AND(
LD    %SM0.1
MOVE    DMAX, %VR3688
OR(
LDN    %SM0.1
MOVE    %VR3688, DMAX
)
)
(* Network 17 *)
(*CONFIGURACIÓN DE INSTALACIÓN DEL SENSOR DE ULTRADONIDOALTURA MÁXIMA A LA QUE PUEDE LLEGAR A SUBIR EL AGUA DEL CANAL*)
LD    TRUE
AND(
LD    %SM0.1
MOVE    HMAX, %VR3692
OR(
LDN    %SM0.1
MOVE    %VR3692, HMAX
)
)
(* Network 18 *)
(*CONFIGURACIÓN DE INSTALACIÓN DEL SENSOR DE ULTRADONIDODISTANCIA DEL SENSOR AL AGUA EN METROS*)
LD    TRUE
MOVE    DCURR, %VR12
(* Network 19 *)
(*CONFIGURACIÓN DE INSTALACIÓN DEL SENSOR DE ULTRADONIDOALTURA DEL AGUA EN EL CANAL EN METROS*)
LD    TRUE
MOVE    HOUT, %VR4
(* Network 20 *)
(*------------------------------------------------------------------------------------------------------------------VERTEDOR RECTANGULAR*)
LD    TRUE
MOVE    %VR3696, LVR
(* Network 21 *)
(*------------------------------------------------------------------------------------------------------------------CANAL SEMICIRCULAR - MANNINGDIAMETRO DEL CAÑO EN METROS*)
LD    TRUE
AND(
LD    %SM0.1
MOVE    CnD, %VR3648
OR(
LDN    %SM0.1
MOVE    %VR3648, CnD
)
)
(* Network 22 *)
(*CANAL SEMICIRCULAR - MANNINGRUGOSIDAD DEL MATERIAL*)
LD    TRUE
AND(
LD    %SM0.1
MOVE    CnN, %VR3652
OR(
LDN    %SM0.1
MOVE    %VR3652, CnN
)
)
(* Network 23 *)
(*CANAL SEMICIRCULAR - MANNINGPENDIENTE DEL CAÑO*)
LD    TRUE
AND(
LD    %SM0.1
MOVE    CnSo, %VR3656
OR(
LD    %SM0.1
MOVE    %VR3656, CnSo
)
)
(* Network 24 *)
(*-----------------------------------------------------------------------------------------------------------------CANAL PARSHALLFACTOR DE MULTIPLICACIÓN DE LA FORMULA (ADMINESIONAL)*)
LD    TRUE
MOVE    %VR3700, PC1
(* Network 25 *)
(*CANAL PARSHALLEXPONENTE DE LA FORMULA (ADMINESIONAL)*)
LD    TRUE
MOVE    %VR3704, Pn
(* Network 26 *)
(*CANAL PARSHALLALTURA MÍNIMA DE AGUA QUE EL CANAL PUEDE MEDIR (METROS)*)
LD    TRUE
MOVE    %VR3708, PHmin
(* Network 27 *)
(*CANAL PARSHALLALTURA MÁXIMA DE AGUA QUE EL CANAL PUEDE MEDIR (METROS)*)
LD    TRUE
MOVE    %VR3712, PHmax
